# Frontend Architecture

```yml
├── .github/
│   └── ISSUE_TEMPLATE/
├── config/
├── docker/
├── frontend/    # Frontend
│   ├── migrations/
│   ├── src/    # Frontend
│       ├── assets/    # Frontend
│       ├── components/    # Frontend
│       ├── pages/    # Frontend
│       └── templates/    # Frontend
│   ├── static/    # Frontend
│       └── frontend/    # Frontend
│   └── templates/    # Frontend
│       └── frontend/    # Frontend
├── server/
│   └── migrations/
└── <loose files>
```
*<p style="text-align: center;">Overall project structure</p>*


```yml
├── frontend/
│   ├── src/
│       ├── assets/
│       ├── components/
│           ├── Apps.js
│           └── <Components>/
│       ├── pages/
│       ├── templates/
│           └── index.html
│       ├── index.js
│       └── index.scss
│   ├── static
│   └── templates
├── .babelrc
├── package-lock.json
├── package.json
└── webpack.config.js 
```
*<p style="text-align: center;">Frontend Architecture</p>*

## Summary

**Frontend Tech Stack**: HTML, CSS, JS, React, Babel, Webpack

The frontend architecture is entirely housed in our `frontend/` directory. This directory is a [Django app](https://docs.djangoproject.com/en/4.0/intro/tutorial01/), which is a set of files that can be ported to any Django-based application.

Since our frontend is a Django app, it takes advantage of the way Django serves its static assets. Every Django app, by default, looks to the `templates/`\* directory within the app for the `html` template file to serve. This template usually contains `<script>` and `<style>` tags denoting the location of CSS and JS files. In Django, these files are usually located inside the `static/`\* directory. Likewise, our frontend app store our templates and static assets within these directories.

Despite these similiarties, however, the files in these two directories should never be manipulated by a developer. These files are automatically generated by an application called [Webpack](https://webpack.js.org/) via configurations in `webpack.config.js` and `.babelrc`.

The files that should be manipulated by developers are housed within the `src/` directory. Inside of here are directories for `assets/`, `componenents/`, `pages/`, and `templates/`. Each of these directories contains the files which Webpack reads and then bundle into output files for the `static/` and `template/` directories.

> ###### *\*Note: The `templates/` and `static/` directories contain within them a `frontend/` directory in order to namespace template and static files. Although this serves little purpose for our project, it is a Django convention that prevents Django from confusing the `templates/` and `static/` directories from the frontend app vs another app.*

## Overview of Directories and Files

- **frontend/:** houses all the frontend files
- **frontend/src/:** houses all the files for developers to manipulate. The files here are read by Webpack before being bundled into the `static/` and `templates/` directories
    - **assets/:** this is where we store all of our miscellaneous files, such as .jpegs, .svgs, .gifs, etc.
    - **componenents/:** this is where we store the files that generate our components, such as buttons and cards. To learn more about this in-depth, read the [components](#components-directory) section of this guide.
    - **pages/:** contains the React files that pools together various components to generate a page.
    - **templates/:** contains html files that are then generated into the regular templates directory. To learn more about how Webpack bundle our files, read the [Webpack](#webpack-configurations) section of this guide.
    - **index.js:** this file serves as the entry point for all other js files\*. This file is read by Webpack, and then bundled into code in the `static` directory.
    - **index.scss:** this file serves as the entry point for all other scss files\*.
- **frontend/static/:** automatically generated by Webpack, *DO NOT EDIT*
- **frontend/templates/:** automatically generated by Webpack, *DO NOT EDIT*
- **.babelrc:** Babel's configuration. To learn more about this, please visit [babel's documentation](https://babeljs.io/docs/en/config-files#file-relative-configuration).
- **package-lock.json & package.json:** These files are created by npm to keep track of dependencies. Please visit [npm's](https://nodejs.org/en/knowledge/getting-started/npm/what-is-the-file-package-json/) [documentation](https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json) to understand them.
- **webpack.config.js:** Webpack's configuration. To learn more about configuring Webpack, please visit their [documentation](https://webpack.js.org/configuration/). To learn about our specific configuration, see the [below guide](#webpack-configurations).

###### *\*Note: This is technically a lie. In actuality, __index.js__, reads __index.scss__ as well as the React files, making it the only entryway for all files bundled in the `src/` directory.*

## Components Directory

## Webpack Configurations

```javascript
const path = require("path");
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
    mode: 'development',
    entry: {
        index: "./frontend/src/index.js"
    },
    output: {
        clean: {
            keep: '.gitkeep'
        },
        filename: '[name].[contenthash].js',
        path: path.resolve(__dirname, 'frontend/static/frontend'),
    },
    devtool: 'inline-source-map',
    module: {
        rules: [
            {
                test: /\.js$/,
                exclude: /node_modules/,
                use: {
                    loader: "babel-loader",
                }
            },
            {
                test: /\.s[ac]ss$/i,
                use: [
                    "style-loader",
                    "css-loader",
                    "sass-loader",
                ],
            },
            {
                test: /\.(png|svg|jpg|jpeg|gif)$/i,
                type: 'asset/resource',
            },
        ]
    },
    optimization: {
        moduleIds: 'deterministic',
        runtimeChunk: 'single',
        splitChunks: {
            cacheGroups: {
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    chunks: 'all',
                },
            },
        },
    },
    plugins: [
        new HtmlWebpackPlugin({
            filename: '../../templates/frontend/index.html',
            template: '/frontend/src/templates/index.html',
        }),
    ],
    watchOptions: {
        ignored: /node_modules/,
    },
}
```

### Why do we separate Babel from Webpack?

